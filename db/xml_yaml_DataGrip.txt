CREATE TABLE [users] (
  [userid] int PRIMARY KEY,
  [firstname] nvarchar(255),
  [lastname] nvarchar(255)
)
GO

CREATE TABLE [cards] (
  [userid] int,
  [cardnumber] nvarchar(255),
  [flight_id] int,
  [bonusprogrammName] nvarchar(255),
  PRIMARY KEY ([cardnumber])
)
GO

CREATE TABLE [Ticket] (
  [cardnumber] nvarchar(255),
  [flight_id] nvarchar(255),
  [Class] char(1)
)
GO

CREATE TABLE [Flight] (
  [flight_id] int,
  [flightCode] nvarchar(255),
  [Date] nvarchar(255),
  [Departure] nvarchar(255),
  [Arrival] nvarchar(255)
)
GO

ALTER TABLE [cards] ADD FOREIGN KEY ([userid]) REFERENCES [users] ([userid])
GO

ALTER TABLE [Ticket] ADD FOREIGN KEY ([cardnumber]) REFERENCES [cards] ([cardnumber])
GO

ALTER TABLE [Ticket] ADD FOREIGN KEY ([flight_id]) REFERENCES [Flight] ([flight_id])
GO

ALTER TABLE [airport] ADD FOREIGN KEY ([code]) REFERENCES [Flight] ([Departure])
GO

ALTER TABLE [airport] ADD FOREIGN KEY ([code]) REFERENCES [Flight] ([Arrival])
GO

